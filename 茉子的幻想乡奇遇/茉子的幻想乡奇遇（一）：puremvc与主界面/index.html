<!DOCTYPE html>
<html lang="zh-CN">
    <head>
  <!-- å…ƒæ•°æ® -->
  <meta charset="utf-8">
  <link rel="icon" href="/images/webicon.jpg">
  <title>èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡ï¼ˆä¸€ï¼‰ï¼šPureMVCä¸ä¸»ç•Œé¢ | MoeWolfçš„åšå®¢</title>
  <meta name="author" content="MoeWolf" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    <meta name="keywords" content="å¼€å‘æ—¥å¿—" />
  
  <meta name="description" content="ä½¿ç”¨PureMVCæ¡†æ¶å’Œè‡ªåˆ¶é¢æ¿åŸºç±»ï¼Œåˆ¶ä½œä¸»ç•Œé¢é€»è¾‘">
<meta property="og:type" content="article">
<meta property="og:title" content="èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡ï¼ˆä¸€ï¼‰ï¼šPureMVCä¸ä¸»ç•Œé¢">
<meta property="og:url" content="https://moewolf.me/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9Apuremvc%E4%B8%8E%E4%B8%BB%E7%95%8C%E9%9D%A2/index.html">
<meta property="og:site_name" content="MoeWolfçš„åšå®¢">
<meta property="og:description" content="ä½¿ç”¨PureMVCæ¡†æ¶å’Œè‡ªåˆ¶é¢æ¿åŸºç±»ï¼Œåˆ¶ä½œä¸»ç•Œé¢é€»è¾‘">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://moewolf.me/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9Apuremvc%E4%B8%8E%E4%B8%BB%E7%95%8C%E9%9D%A2/%E4%B8%BB%E7%95%8C%E9%9D%A2UI.png">
<meta property="article:published_time" content="2022-09-12T02:40:32.000Z">
<meta property="article:modified_time" content="2022-09-12T05:25:02.457Z">
<meta property="article:author" content="MoeWolf">
<meta property="article:tag" content="å¼€å‘æ—¥å¿—">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://moewolf.me/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9Apuremvc%E4%B8%8E%E4%B8%BB%E7%95%8C%E9%9D%A2/%E4%B8%BB%E7%95%8C%E9%9D%A2UI.png">
<meta name="twitter:site" content="@null">
  
  <!-- ç«™ç‚¹éªŒè¯ç›¸å…³ -->
  
    
    
    
  
  <!-- æ ·å¼è¡¨æ–‡ä»¶ -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" type="text/css" media="all">
  
    <link rel="stylesheet" id="highlight-css" href="/css/highlight/night-eighties.min.css" type="text/css" media="all">
  
  
  <link rel="stylesheet" id="fontawe-css" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" type="text/css" media="all">
  <link rel="stylesheet" id="nprogress-css" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css" type="text/css" media="all">
  
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-dark.min.css" type="text/css" media="all">
  
  <!-- ä¸å¾—ä¸é¢„å…ˆåŠ è½½çš„ä¸€äº›JSæ–‡ä»¶ -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  
    <script src="https://cdn.jsdelivr.net/npm/qrcode_js@1.0.0/qrcode.min.js"></script>
  
  
  <style>
    
      .kratos-cover.kratos-cover-2 {
        background-image: url('/images/holo_banner.png');
      }
    
    
      @media(min-width:768px) {
        body.custom-background {
          background-image: url('/images/holo_bg.png');
        }
      }
    
  </style>
  
<meta name="generator" content="Hexo 6.0.0"></head>


    <body class="custom-background">
        <div id="kratos-wrapper">
    <div id="kratos-page">
        <div id="kratos-header">
            <header id="kratos-desktop-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="nav-header">
                        <nav id="kratos-menu-wrap">
                            <ul id="kratos-primary-menu" class="sf-menu">
                                
                                    
                                        <li><a href="/"><i class="fa fa-home"></i>é¦–é¡µ</a></li>
                                    
                                
                                    
                                        <li><a href="/archives/"><i class="fa fa-file"></i>æ¡£æ¡ˆé¦†</a></li>
                                    
                                
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
            <header id="kratos-mobile-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="color-logo"><a href="/">MoeWolfçš„åšå®¢</a></div>
                    <div class="nav-toggle">
                        <a class="kratos-nav-toggle js-kratos-nav-toggle">
                            <i></i>
                        </a>
                    </div>
                </div>
            </header>
        </div>
        <div class="kratos-start kratos-hero-2">
            <!-- <div class="kratos-overlay"></div> -->
            <div class="kratos-cover kratos-cover-2 text-center">
                <div class="desc desc2 animate-box">
                    <a href="/">
                        <h2>MoeWolfçš„åšå®¢</h2> <br />
                        <span>ğ“¦ğ“±ğ“ªğ“½â€™ğ“¼ ğ“¹ğ“ªğ“¼ğ“½ ğ“²ğ“¼ ğ“¹ğ“»ğ“¸ğ“µğ“¸ğ“°ğ“¾ğ“®.</span>
                    </a>
                </div>
            </div>
        </div>

        <div id="kratos-blog-post">
            <div class="container">
                <div id="main" class="row">
                    

        

            <section class="col-md-8">

        

            <article>
    <div class="kratos-hentry kratos-post-inner clearfix">
        <header class="kratos-entry-header">
            
                <h1 class="kratos-entry-title text-center">èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡ï¼ˆä¸€ï¼‰ï¼šPureMVCä¸ä¸»ç•Œé¢</h1>
            
            
            <ul class="kratos-post-meta text-center">
                <li><i class="fa fa-calendar"></i> 2022-09-12</li>
                <li><i class="fa fa-user"></i> ä½œè€… MoeWolf</li>
                <li>
                    <i class="fa fa-edit"></i> 
                    
                    
                        ~21.00K
                    
                    å­—
                </li>
                
            </ul>
        </header>
        <div class="kratos-post-content">
            <div id="expire-alert" class="alert alert-warning hidden" role="alert">
                æœ¬æ–‡æœ€åç¼–è¾‘äº <time datetime="1662960302457"></time> å‰ï¼Œå…¶ä¸­çš„å†…å®¹å¯èƒ½éœ€è¦æ›´æ–°ã€‚
            </div>
            
                <div class="kratos-post-inner-toc">
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87"><span class="toc-number">1.</span> <span class="toc-text">èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E8%BF%99%E4%B8%AA%E6%B8%B8%E6%88%8F"><span class="toc-number">1.1.</span> <span class="toc-text">å…³äºè¿™ä¸ªæ¸¸æˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%8C%E6%99%AF"><span class="toc-number">1.2.</span> <span class="toc-text">èƒŒæ™¯</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%BB%E7%95%8C%E9%9D%A2UI%E4%BB%A5%E5%8F%8AUI%E9%9D%A2%E6%9D%BF%E5%9F%BA%E7%B1%BB"><span class="toc-number">2.</span> <span class="toc-text">ä¸»ç•Œé¢UIä»¥åŠUIé¢æ¿åŸºç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF"><span class="toc-number">2.1.</span> <span class="toc-text">æ€è·¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UI%E9%9D%A2%E6%9D%BF%E5%9F%BA%E7%B1%BB"><span class="toc-number">2.2.</span> <span class="toc-text">UIé¢æ¿åŸºç±»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E6%9D%BF%E5%8F%8A%E8%84%9A%E6%9C%AC"><span class="toc-number">2.3.</span> <span class="toc-text">é¢æ¿åŠè„šæœ¬</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PureMVC%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.</span> <span class="toc-text">PureMVCçš„ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E5%90%8D%E7%B1%BB"><span class="toc-number">3.1.</span> <span class="toc-text">é€šçŸ¥åç±»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9F%B3%E4%B9%90%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%8F%8AProxy"><span class="toc-number">3.2.</span> <span class="toc-text">éŸ³ä¹æ•°æ®ç±»åŠProxy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%84%E4%B8%AA%E9%9D%A2%E6%9D%BF%E7%9A%84Mediator"><span class="toc-number">3.3.</span> <span class="toc-text">å„ä¸ªé¢æ¿çš„Mediator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Facade%E5%92%8CCommand"><span class="toc-number">3.4.</span> <span class="toc-text">Facadeå’ŒCommand</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol>
                </div>
            
            <hr />
            <p>ä½¿ç”¨PureMVCæ¡†æ¶å’Œè‡ªåˆ¶é¢æ¿åŸºç±»ï¼Œåˆ¶ä½œä¸»ç•Œé¢é€»è¾‘</p>
<span id="more"></span>

<h1 id="èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡"><a href="#èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡" class="headerlink" title="èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡"></a>èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡</h1><h2 id="å…³äºè¿™ä¸ªæ¸¸æˆ"><a href="#å…³äºè¿™ä¸ªæ¸¸æˆ" class="headerlink" title="å…³äºè¿™ä¸ªæ¸¸æˆ"></a>å…³äºè¿™ä¸ªæ¸¸æˆ</h2><p>è¿™æ˜¯ä¸€ä¸ª2Dåƒç´ ç»è¥ã€ç”Ÿå­˜ç±»æ¸¸æˆï¼Œåœ¨æ¸¸æˆä¸­å°†æ‰®æ¼”ä¸€ä¸ªåå«èŒ‰å­çš„å°‘å¥³ï¼Œä¸€è¾¹å¯»æ‰¾ç€è¿”å›è‡ªå·±çš„ä¸–ç•Œçš„æ–¹æ³•ï¼Œä¸€è¾¹è€•è€˜ç€è‡ªå·±çš„ä¸€ç‰‡ç”°åœ°ï¼Œç„¶åä¸å¹»æƒ³ä¹¡çš„å„ä½å¥³å­©é‚‚é€…çš„å¥‡å¦™å†’é™©</p>
<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æŸä¸€å¤©ï¼ŒèŒ‰å­ç…§å¸¸èµ·åºŠå‡†å¤‡ä¸Šå­¦ï¼Œå¥¹å¿ƒæƒ³è¿™ç§æ—¥å¤ä¸€æ—¥çš„ç³Ÿç³•æ—¥å­æ°¸è¿œä¸ä¼šåˆ°å¤´ï¼Œåœ¨å­¦æ ¡é‡Œæ¯«æ— å­˜åœ¨æ„Ÿçš„å¥¹æ²¡æœ‰æœ‹å‹ï¼Œæ¯å¤©åˆé¤ã€æ”¾å­¦å›å®¶çš„è·¯ä¸Šéƒ½åªæœ‰å¥¹ä¸€ä¸ªäººã€‚â€œè¦æ˜¯èƒ½ç¦»å¼€è¿™ä¹ˆç³Ÿç³•çš„åœ°çƒOnlineè¯¥æœ‰å¤šå¥½å•Šâ€ï¼Œå¥¹å¦‚æ­¤æƒ³åˆ°ï¼Œçªç„¶ï¼Œå¥¹çœ¼å‰ä¸€é»‘ï¼Œçå¼€çœ¼ç›çš„æ—¶å€™å·²ç„¶æ˜¯å¦ä¸€ç•ªé£æ™¯â€¦</p>
<h1 id="ä¸»ç•Œé¢UIä»¥åŠUIé¢æ¿åŸºç±»"><a href="#ä¸»ç•Œé¢UIä»¥åŠUIé¢æ¿åŸºç±»" class="headerlink" title="ä¸»ç•Œé¢UIä»¥åŠUIé¢æ¿åŸºç±»"></a>ä¸»ç•Œé¢UIä»¥åŠUIé¢æ¿åŸºç±»</h1><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>åˆ¶ä½œä¸»ç•Œé¢çš„å„ä¸ªé¢æ¿ï¼Œè®©ä»–ä»¬ç»§æ‰¿è‡ªå†™å¥½çš„UIé¢æ¿åŸºç±»ï¼Œç„¶åå°†ä»–ä»¬åˆ¶ä½œæˆé¢„åˆ¶ä»¶ï¼Œæƒ³è¦æ˜¾ç¤ºé¢æ¿æ—¶ï¼Œä½¿ç”¨åŒæ­¥åŠ è½½çš„æ–¹å¼åŠ è½½UIåˆ°Canvasä¸Šï¼Œéšè—æ—¶ç›´æ¥åˆ é™¤æ‰Canvasä¸Šçš„è¯¥é¢æ¿ï¼Œå¯¹äºéœ€è¦ä¿å­˜/è¯»å–æ•°æ®çš„é¢æ¿ï¼ˆå¦‚è®¾ç½®é¢æ¿ï¼‰ï¼Œä½¿ç”¨PureMVCæ¥è¿›è¡Œé¢æ¿å’Œæ•°æ®çš„å…³è”</p>
<h2 id="UIé¢æ¿åŸºç±»"><a href="#UIé¢æ¿åŸºç±»" class="headerlink" title="UIé¢æ¿åŸºç±»"></a>UIé¢æ¿åŸºç±»</h2><p>è¿™ä¸ªåŸºç±»çš„ä½œç”¨å°±æ˜¯åœ¨é¢æ¿Awakeçš„æ—¶å€™ï¼Œè‡ªåŠ¨è·å–é¢æ¿ä¸Šçš„æ‰€æœ‰æ§ä»¶å­˜å…¥å­—å…¸ï¼Œçœçš„å»Inspectorçª—å£ä¸­æ‹–æ‹½ï¼ˆéº»çƒ¦ï¼Œè¿˜å®¹æ˜“å‡ºé”™ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using TMPro;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.EventSystems;</span><br><span class="line">using UnityEngine.UI;</span><br><span class="line"></span><br><span class="line">public class BasePanel : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    private Dictionary&lt;string, List&lt;UIBehaviour&gt;&gt; controlDic = new Dictionary&lt;string, List&lt;UIBehaviour&gt;&gt;();</span><br><span class="line"></span><br><span class="line">    protected virtual void Awake()</span><br><span class="line">    &#123;</span><br><span class="line">        FindChildControl&lt;Button&gt;();</span><br><span class="line">        FindChildControl&lt;Image&gt;();</span><br><span class="line">        FindChildControl&lt;TextMeshProUGUI&gt;();</span><br><span class="line">        FindChildControl&lt;Toggle&gt;();</span><br><span class="line">        FindChildControl&lt;ScrollRect&gt;();</span><br><span class="line">        FindChildControl&lt;Slider&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// UIé¢æ¿åˆå§‹åŒ–æ—¶å°±è·å–æ‰€æœ‰å­æ§ä»¶å­˜å…¥å­—å…¸</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;typeparam name=&quot;T&quot;&gt;æ§ä»¶ç±»å‹&lt;/typeparam&gt;</span><br><span class="line">    private void FindChildControl&lt;T&gt;() where T : UIBehaviour</span><br><span class="line">    &#123;</span><br><span class="line">        T[] controls = GetComponentsInChildren&lt;T&gt;();</span><br><span class="line">        string controlName;</span><br><span class="line">        foreach (var control in controls)</span><br><span class="line">        &#123;</span><br><span class="line">            controlName = control.name;</span><br><span class="line">            if (controlDic.ContainsKey(controlName))</span><br><span class="line">                controlDic[controlName].Add(control);</span><br><span class="line">            else</span><br><span class="line">                controlDic.Add(controlName,new List&lt;UIBehaviour&gt;() &#123;control&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// è·å–å­—å…¸ä¸­çš„æ§ä»¶</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=&quot;controlName&quot;&gt;æ§ä»¶å&lt;/param&gt;</span><br><span class="line">    /// &lt;typeparam name=&quot;T&quot;&gt;æ§ä»¶ç±»å‹&lt;/typeparam&gt;</span><br><span class="line">    /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">    protected T GetChildControl&lt;T&gt;(string controlName) where T : UIBehaviour</span><br><span class="line">    &#123;</span><br><span class="line">        if (controlDic.ContainsKey(controlName))</span><br><span class="line">        &#123;</span><br><span class="line">            foreach (var control in controlDic[controlName])</span><br><span class="line">            &#123;</span><br><span class="line">                if (control is T)</span><br><span class="line">                    return control as T;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é¢æ¿åŠè„šæœ¬"><a href="#é¢æ¿åŠè„šæœ¬" class="headerlink" title="é¢æ¿åŠè„šæœ¬"></a>é¢æ¿åŠè„šæœ¬</h2><p>é¦–å…ˆå°±æ˜¯åˆ¶ä½œä¸»ç•Œé¢</p>
<p><img src="/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9Apuremvc%E4%B8%8E%E4%B8%BB%E7%95%8C%E9%9D%A2/%E4%B8%BB%E7%95%8C%E9%9D%A2UI.png" alt="ä¸»ç•Œé¢UI"></p>
<p>é¢æ¿è„šæœ¬ï¼Œé‡å†™åŸºç±»çš„Awakeç›´æ¥è·å–è‡ªå·±çš„æ§ä»¶ï¼Œè·å–æ˜¯ä¸ºäº†æ–¹ä¾¿å¤–éƒ¨è®¿é—®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using TMPro;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.UI;</span><br><span class="line"></span><br><span class="line">public class MainMenuPanel : BasePanel</span><br><span class="line">&#123;</span><br><span class="line">    public Button btnContinue;</span><br><span class="line">    public Button btnStart;</span><br><span class="line">    public Button btnSetting;</span><br><span class="line">    public Button btnQuit;</span><br><span class="line"></span><br><span class="line">    protected override void Awake()</span><br><span class="line">    &#123;</span><br><span class="line">        base.Awake();</span><br><span class="line">        btnContinue = GetChildControl&lt;Button&gt;(&quot;btnContinue&quot;);</span><br><span class="line">        btnStart = GetChildControl&lt;Button&gt;(&quot;btnStart&quot;);</span><br><span class="line">        btnSetting = GetChildControl&lt;Button&gt;(&quot;btnSetting&quot;);</span><br><span class="line">        btnQuit = GetChildControl&lt;Button&gt;(&quot;btnQuit&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ˜¯æ¸¸æˆå­˜æ¡£ç•Œé¢ï¼Œç”±äºå­˜æ¡£å¯èƒ½ä¸æ­¢ä¸€ä¸ªï¼Œä½¿ç”¨Vertical Layout Groupç»„ä»¶å’ŒContent Size Fitterç»„ä»¶ç»™ScrollViewçš„contentåšè‡ªåŠ¨å¸ƒå±€å’Œè‡ªåŠ¨æ‰©å®¹ï¼Œæ¸¸æˆå­˜æ¡£çš„æ•°æ®å’ŒUIæ˜¾ç¤ºé€»è¾‘ä»¥åå†æ¥å†™</p>
<p><img src="/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9Apuremvc%E4%B8%8E%E4%B8%BB%E7%95%8C%E9%9D%A2/%E9%80%89%E6%8B%A9%E5%AD%98%E6%A1%A3UI.png" alt="é€‰æ‹©å­˜æ¡£UI"></p>
<p>é¢æ¿è„šæœ¬ï¼Œå¯¹äºå­˜æ¡£æŒ‰é’®çš„é€»è¾‘ä»¥åå†å†™</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine.UI;</span><br><span class="line"></span><br><span class="line">public class GameDataPanel : BasePanel</span><br><span class="line">&#123;</span><br><span class="line">    public Button btnQuit;</span><br><span class="line"></span><br><span class="line">    protected override void Awake()</span><br><span class="line">    &#123;</span><br><span class="line">        base.Awake();</span><br><span class="line">        btnQuit = GetChildControl&lt;Button&gt;(&quot;btnQuit&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åæ˜¯è®¾ç½®ç•Œé¢</p>
<p><img src="/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9Apuremvc%E4%B8%8E%E4%B8%BB%E7%95%8C%E9%9D%A2/%E8%AE%BE%E7%BD%AE%E7%95%8C%E9%9D%A2UI.png" alt="è®¾ç½®ç•Œé¢UI"></p>
<p>é¢æ¿è„šæœ¬ï¼ŒUpdateInfoæ–¹æ³•æä¾›ç»™å¤–éƒ¨ä¿®æ”¹é¢æ¿æ§ä»¶çš„æ•°å€¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">using UnityEngine;</span><br><span class="line">using UnityEngine.UI;</span><br><span class="line"></span><br><span class="line">public class SettingPanel : BasePanel</span><br><span class="line">&#123;</span><br><span class="line">    public Toggle togMusic;</span><br><span class="line">    public Toggle togSound;</span><br><span class="line">    public Slider sdMusic;</span><br><span class="line">    public Slider sdSound;</span><br><span class="line">    public Button btnQuit;</span><br><span class="line"></span><br><span class="line">    protected override void Awake()</span><br><span class="line">    &#123;</span><br><span class="line">        base.Awake();</span><br><span class="line">        togMusic = GetChildControl&lt;Toggle&gt;(&quot;togMusic&quot;);</span><br><span class="line">        togSound = GetChildControl&lt;Toggle&gt;(&quot;togSound&quot;);</span><br><span class="line">        sdMusic = GetChildControl&lt;Slider&gt;(&quot;sdMusic&quot;);</span><br><span class="line">        sdSound = GetChildControl&lt;Slider&gt;(&quot;sdSound&quot;);</span><br><span class="line">        btnQuit = GetChildControl&lt;Button&gt;(&quot;btnQuit&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void UpdateInfo(MusicData data)</span><br><span class="line">    &#123;</span><br><span class="line">        sdMusic.value = data.musicVolume;</span><br><span class="line">        sdSound.value = data.soundVolume;</span><br><span class="line">        togMusic.isOn = data.musicIsOpen;</span><br><span class="line">        togSound.isOn = data.soundIsOpen;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="PureMVCçš„ä½¿ç”¨"><a href="#PureMVCçš„ä½¿ç”¨" class="headerlink" title="PureMVCçš„ä½¿ç”¨"></a>PureMVCçš„ä½¿ç”¨</h1><p>ç”±äºPureMVCé€šè¿‡é€šçŸ¥çš„æ–¹å¼å‘ŠçŸ¥å„ä¸ªæ¨¡å—çš„æ‰§è¡Œå¯¹åº”çš„æ“ä½œï¼Œå…¶ä¸­é€šçŸ¥åååˆ†é‡è¦ä¸”ä¼šé‡å¤ä½¿ç”¨ï¼Œä¸ºäº†é˜²æ­¢é€šçŸ¥åå†™é”™ï¼Œå°±å†™ä¸€ä¸ªç±»ä¸“é—¨å­˜æ”¾é€šçŸ¥åï¼Œåç»­æœ‰æ–°çš„é€šçŸ¥åç›´æ¥å†™è¿›æ¥å°±å¯ä»¥äº†</p>
<h2 id="é€šçŸ¥åç±»"><a href="#é€šçŸ¥åç±»" class="headerlink" title="é€šçŸ¥åç±»"></a>é€šçŸ¥åç±»</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// PureMVCä¸­çš„é€šçŸ¥åç±»</span><br><span class="line">/// ç”¨æ¥å£°æ˜å„ä¸ªé€šçŸ¥åå­—çš„</span><br><span class="line">/// æ–¹ä¾¿ä½¿ç”¨å’Œç®¡ç†</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public class PureMVCNotification</span><br><span class="line">&#123;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// å¯åŠ¨é€šçŸ¥</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    public const string START_UP = &quot;startUp&quot;;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// æ˜¾ç¤ºé¢æ¿</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    public const string SHOW_PANEL = &quot;showPanel&quot;;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// éšè—é¢æ¿</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    public const string HIDE_PANEL = &quot;hidePanel&quot;;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// é€€å‡ºæ¸¸æˆ</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    public const string QUIT_GAME = &quot;quitGame&quot;;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// ç©å®¶æ•°æ®æ›´æ–°çš„é€šçŸ¥å</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    public const string UPDATE_PLAYER_INFO = &quot;updatePlayerInfo&quot;;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// æ›´æ–°è®¾ç½®é¢æ¿ã€æ•°æ®</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    public const string UPDATE_SETTING_INFO = &quot;updateSettingInfo&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="éŸ³ä¹æ•°æ®ç±»åŠProxy"><a href="#éŸ³ä¹æ•°æ®ç±»åŠProxy" class="headerlink" title="éŸ³ä¹æ•°æ®ç±»åŠProxy"></a>éŸ³ä¹æ•°æ®ç±»åŠProxy</h2><p>ç”±äºè®¾ç½®é¢æ¿å¯ä»¥è®¾ç½®éŸ³ä¹/éŸ³æ•ˆæ•°æ®ï¼Œè€Œä¸”è¦å°†è¿™äº›æ•°æ®æŒä¹…åŒ–å¤„ç†ï¼Œå½“ç„¶å¾—éœ€è¦ä¸€ä¸ªæ•°æ®ç±»</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line"></span><br><span class="line">[Serializable]</span><br><span class="line">public class MusicData</span><br><span class="line">&#123;</span><br><span class="line">    public float musicVolume;</span><br><span class="line">    public float soundVolume;</span><br><span class="line">    public bool musicIsOpen;</span><br><span class="line">    public bool soundIsOpen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åç»™è¿™ä¸ªæ•°æ®ç±»æ·»åŠ Proxyï¼Œè¿™é‡Œä½¿ç”¨Jsonçš„æ–¹å¼å­˜å‚¨è¯»å–æ•°æ®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.IO;</span><br><span class="line">using PureMVC.Patterns.Proxy;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class MusicDataProxy : Proxy</span><br><span class="line">&#123;</span><br><span class="line">    public new const string NAME = &quot;MusicDataProxy&quot;;</span><br><span class="line"></span><br><span class="line">    public MusicDataProxy() : base(NAME)</span><br><span class="line">    &#123;</span><br><span class="line">        //åˆ¤æ–­æ•°æ®å­˜ä¸å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™è‡ªå·±åˆå§‹åŒ–ä¸€ä¸ªä¿å­˜</span><br><span class="line">        string pathS = $&quot;&#123;Application.streamingAssetsPath&#125;/MusicData.json&quot;;</span><br><span class="line">        string pathP = $&quot;&#123;Application.persistentDataPath&#125;/MusicData.json&quot;;</span><br><span class="line">        if (!File.Exists(pathS) &amp;&amp; !File.Exists(pathP))</span><br><span class="line">        &#123;</span><br><span class="line">            MusicData data = new MusicData</span><br><span class="line">            &#123;</span><br><span class="line">                musicVolume = 1,</span><br><span class="line">                soundVolume = 1,</span><br><span class="line">                musicIsOpen = true,</span><br><span class="line">                soundIsOpen = true,</span><br><span class="line">            &#125;;</span><br><span class="line">            Data = data;</span><br><span class="line">            JsonMgr.Instance.SaveData(data,&quot;MusicData&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            Data = JsonMgr.Instance.LoadData&lt;MusicData&gt;(&quot;MusicData&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void UpdateDataInfo(SettingPanel view)</span><br><span class="line">    &#123;</span><br><span class="line">        MusicData data = Data as MusicData;</span><br><span class="line">        data.musicVolume = view.sdMusic.value;</span><br><span class="line">        data.soundVolume = view.sdSound.value;</span><br><span class="line">        data.musicIsOpen = view.togMusic.isOn;</span><br><span class="line">        data.soundIsOpen = view.togSound.isOn;</span><br><span class="line">        Data = data;</span><br><span class="line">        SaveData();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void SaveData()</span><br><span class="line">    &#123;</span><br><span class="line">        MusicData data = Data as MusicData;</span><br><span class="line">        JsonMgr.Instance.SaveData(data,&quot;MusicData&quot;);</span><br><span class="line">        SendNotification(PureMVCNotification.UPDATE_SETTING_INFO,this.Data as MusicData);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ä½¿ç”¨çš„Jsonç®¡ç†å™¨ï¼Œå…¶ä¸­æœ‰ä¸¤ç§è¯»å†™Jsonçš„æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯Unityè‡ªå¸¦çš„JsonUtilityï¼Œä¸€ä¸ªæ˜¯ç¬¬ä¸‰æ–¹çš„LitJsonï¼Œéœ€è¦è‡ªå·±å¯¼å…¥LitJsonä»£ç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.IO;</span><br><span class="line">using LitJson;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public enum JsonType</span><br><span class="line">&#123;</span><br><span class="line">    JsonUtility,</span><br><span class="line">    LitJson</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class JsonMgr</span><br><span class="line">&#123;</span><br><span class="line">    private static JsonMgr instance = new JsonMgr();</span><br><span class="line">    public static JsonMgr Instance =&gt; instance;</span><br><span class="line">    </span><br><span class="line">    private JsonMgr()&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    //å­˜å‚¨Jsonæ•°æ® åºåˆ—åŒ–</span><br><span class="line">    public void SaveData(object data, string fileName,JsonType type = JsonType.LitJson)</span><br><span class="line">    &#123;</span><br><span class="line">        //ç¡®å®šå­˜å‚¨è·¯å¾„</span><br><span class="line">        string path = $&quot;&#123;Application.persistentDataPath&#125;/&#123;fileName&#125;.json&quot;;</span><br><span class="line">        //åºåˆ—åŒ– å¾—åˆ°jsonå­—ç¬¦ä¸²</span><br><span class="line">        string jsonStr = &quot;&quot;;</span><br><span class="line">        switch (type)</span><br><span class="line">        &#123;</span><br><span class="line">            case JsonType.JsonUtility:</span><br><span class="line">                jsonStr = JsonUtility.ToJson(data);</span><br><span class="line">                break;</span><br><span class="line">            case JsonType.LitJson:</span><br><span class="line">                jsonStr = JsonMapper.ToJson(data);</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        //æŠŠåºåˆ—åŒ–çš„Jsonå­—ç¬¦ä¸² å­˜å‚¨åˆ°æŒ‡è·¯å¾„å®šçš„æ–‡ä»¶ä¸­</span><br><span class="line">        File.WriteAllText(path,jsonStr);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //è¯»å–Jsonæ•°æ® ååºåˆ—åŒ–</span><br><span class="line">    public T LoadData&lt;T&gt;(string fileName,JsonType type = JsonType.LitJson) where T : new()</span><br><span class="line">    &#123;</span><br><span class="line">        //ç¡®å®šä»å“ªä¸ªè·¯å¾„è¯»å–</span><br><span class="line">        //å…ˆåˆ¤æ–­é»˜è®¤æ•°æ®æ–‡ä»¶å¤¹ä¸­æ˜¯å¦æœ‰éœ€è¦çš„æ•°æ® æœ‰åˆ™è¯»å– æ— åˆ™åˆ‡æ¢è·¯å¾„</span><br><span class="line">        string path = $&quot;&#123;Application.streamingAssetsPath&#125;/&#123;fileName&#125;.json&quot;;</span><br><span class="line">        //åªè¯»æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨è¯¥æ–‡ä»¶ ä¸å­˜åœ¨åˆ™æ¢æŒä¹…åŒ–è·¯å¾„</span><br><span class="line">        if (!File.Exists(path))</span><br><span class="line">            path = $&quot;&#123;Application.persistentDataPath&#125;/&#123;fileName&#125;.json&quot;;</span><br><span class="line">        //å¦‚æœè¯»å†™æ–‡ä»¶ä¸­ä¹Ÿæ²¡æœ‰  åˆ™newä¸€ä¸ªå¯¹è±¡è¿”å›</span><br><span class="line">        if (!File.Exists(path))</span><br><span class="line">            return new T();</span><br><span class="line">        //ååºåˆ—åŒ–</span><br><span class="line">        string jsonStr = File.ReadAllText(path);</span><br><span class="line">        //æ•°æ®å¯¹è±¡</span><br><span class="line">        T data = default;</span><br><span class="line">        switch (type)</span><br><span class="line">        &#123;</span><br><span class="line">            case JsonType.JsonUtility:</span><br><span class="line">                data = JsonUtility.FromJson&lt;T&gt;(jsonStr);</span><br><span class="line">                break;</span><br><span class="line">            case JsonType.LitJson:</span><br><span class="line">                data = JsonMapper.ToObject&lt;T&gt;(jsonStr);</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        //è¿”å›å¯¹è±¡</span><br><span class="line">        return data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å„ä¸ªé¢æ¿çš„Mediator"><a href="#å„ä¸ªé¢æ¿çš„Mediator" class="headerlink" title="å„ä¸ªé¢æ¿çš„Mediator"></a>å„ä¸ªé¢æ¿çš„Mediator</h2><p>è¿™é‡Œç»™PureMVCä¸­çš„Mediatoræ·»åŠ ä¸€ä¸ªç©ºæ–¹æ³•ï¼Œç”¨äºå­ç±»è·å–é¢æ¿å’Œç›‘å¬é¢æ¿æ§ä»¶çš„äº‹ä»¶ï¼ˆåœ¨æ˜¾ç¤ºé¢æ¿Commandä¸­ä¼šç”¨åˆ°ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// æ–¹ä¾¿Mediatoråˆå§‹åŒ–ViewComponent</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">/// &lt;param name=&quot;panel&quot;&gt;&lt;/param&gt;</span><br><span class="line">public virtual void SetView(BasePanel panel)</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸»èœå•é¢æ¿ï¼Œå¼€å§‹æ¸¸æˆçš„æŒ‰é’®ç›‘å¬ä»¥åå†å†™ï¼Œä¸»è¦æ˜¯è·³è½¬é€»è¾‘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">using PureMVC.Patterns.Mediator;</span><br><span class="line"></span><br><span class="line">public class MainMenuPanelMediator : Mediator</span><br><span class="line">&#123;</span><br><span class="line">    public new const string NAME = &quot;MainMenuPanelMediator&quot;;</span><br><span class="line"></span><br><span class="line">    public MainMenuPanelMediator() : base(NAME)</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public override void SetView(BasePanel panel)</span><br><span class="line">    &#123;</span><br><span class="line">        MainMenuPanel view = panel as MainMenuPanel; </span><br><span class="line">        ViewComponent = view;</span><br><span class="line">        view.btnStart.onClick.AddListener((() =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;));</span><br><span class="line">        view.btnContinue.onClick.AddListener(() =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            SendNotification(PureMVCNotification.HIDE_PANEL,this);</span><br><span class="line">            SendNotification(PureMVCNotification.SHOW_PANEL,&quot;GameDataPanel&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">        view.btnSetting.onClick.AddListener(() =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            SendNotification(PureMVCNotification.SHOW_PANEL,&quot;SettingPanel&quot;);</span><br><span class="line">            SendNotification(PureMVCNotification.HIDE_PANEL,this);</span><br><span class="line">        &#125;);</span><br><span class="line">        view.btnQuit.onClick.AddListener(() =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            SendNotification(PureMVCNotification.QUIT_GAME);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public override string[] ListNotificationInterests()</span><br><span class="line">    &#123;</span><br><span class="line">        return new[]</span><br><span class="line">        &#123;</span><br><span class="line">            PureMVCNotification.SHOW_PANEL,</span><br><span class="line">            PureMVCNotification.HIDE_PANEL</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¸¸æˆå­˜æ¡£é¢æ¿</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">using PureMVC.Patterns.Mediator;</span><br><span class="line"></span><br><span class="line">public class GameDataPanelMediator : Mediator</span><br><span class="line">&#123;</span><br><span class="line">    public new const string NAME = &quot;GameDataPanelMediator&quot;;</span><br><span class="line"></span><br><span class="line">    public GameDataPanelMediator() : base(NAME)</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public override void SetView(BasePanel panel)</span><br><span class="line">    &#123;</span><br><span class="line">        GameDataPanel view = panel as GameDataPanel;</span><br><span class="line">        ViewComponent = view;</span><br><span class="line">        view.btnQuit.onClick.AddListener(() =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            SendNotification(PureMVCNotification.HIDE_PANEL,this);</span><br><span class="line">            SendNotification(PureMVCNotification.SHOW_PANEL,&quot;MainMenuPanel&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public override string[] ListNotificationInterests()</span><br><span class="line">    &#123;</span><br><span class="line">        return new[]</span><br><span class="line">        &#123;</span><br><span class="line">            PureMVCNotification.SHOW_PANEL,</span><br><span class="line">            PureMVCNotification.HIDE_PANEL</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®é¢æ¿</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">using PureMVC.Interfaces;</span><br><span class="line">using PureMVC.Patterns.Mediator;</span><br><span class="line"></span><br><span class="line">public class SettingPanelMediator : Mediator</span><br><span class="line">&#123;</span><br><span class="line">    public new const string NAME = &quot;SettingPanelMediator&quot;;</span><br><span class="line"></span><br><span class="line">    public SettingPanelMediator() : base(NAME)</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public override void SetView(BasePanel panel)</span><br><span class="line">    &#123;</span><br><span class="line">        SettingPanel view = panel as SettingPanel;</span><br><span class="line">        ViewComponent = view;</span><br><span class="line">        SendNotification(PureMVCNotification.UPDATE_SETTING_INFO,Facade.RetrieveProxy(MusicDataProxy.NAME) as MusicData);</span><br><span class="line">        view.btnQuit.onClick.AddListener((() =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            SendNotification(PureMVCNotification.SHOW_PANEL,&quot;MainMenuPanel&quot;);</span><br><span class="line">            SendNotification(PureMVCNotification.HIDE_PANEL,this);</span><br><span class="line">        &#125;));</span><br><span class="line">        view.sdMusic.onValueChanged.AddListener(value =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            SendNotification(PureMVCNotification.UPDATE_SETTING_INFO,this.ViewComponent as SettingPanel);</span><br><span class="line">        &#125;);</span><br><span class="line">        view.sdSound.onValueChanged.AddListener(value =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            SendNotification(PureMVCNotification.UPDATE_SETTING_INFO,this.ViewComponent as SettingPanel);</span><br><span class="line">        &#125;);</span><br><span class="line">        view.togMusic.onValueChanged.AddListener(value =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            SendNotification(PureMVCNotification.UPDATE_SETTING_INFO,this.ViewComponent as SettingPanel);</span><br><span class="line">        &#125;);</span><br><span class="line">        view.togSound.onValueChanged.AddListener(value =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            SendNotification(PureMVCNotification.UPDATE_SETTING_INFO,this.ViewComponent as SettingPanel);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public override string[] ListNotificationInterests()</span><br><span class="line">    &#123;</span><br><span class="line">        return new[]</span><br><span class="line">        &#123;</span><br><span class="line">            PureMVCNotification.SHOW_PANEL,</span><br><span class="line">            PureMVCNotification.HIDE_PANEL,</span><br><span class="line">            PureMVCNotification.UPDATE_SETTING_INFO,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Facadeå’ŒCommand"><a href="#Facadeå’ŒCommand" class="headerlink" title="Facadeå’ŒCommand"></a>Facadeå’ŒCommand</h2><p>åœ¨Facadeä¸­æä¾›ä¸€ä¸ªå•ä¾‹ç»™æ²¡æœ‰ç»§æ‰¿PureMVCçš„ç±»è®¿é—®Facadeï¼Œåœ¨æ­¤è¦å°†å‘½ä»¤å’Œé€šçŸ¥åç»‘å®šå¹¶åœ¨Facadeä¸­æ³¨å†Œï¼Œæä¾›ä¸€ä¸ªä¾›å¤–éƒ¨è°ƒç”¨çš„å¯åŠ¨æ¸¸æˆæ–¹æ³•æ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">using PureMVC.Patterns.Facade;</span><br><span class="line"></span><br><span class="line">public class GameFacade : Facade</span><br><span class="line">&#123;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// æ–¹ä¾¿å•ä¾‹è·å–</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    public static GameFacade Instance</span><br><span class="line">    &#123;</span><br><span class="line">        get</span><br><span class="line">        &#123;</span><br><span class="line">            if (instance == null)</span><br><span class="line">                return new GameFacade();</span><br><span class="line">            return instance as GameFacade;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// åˆå§‹åŒ–Controllerå±‚</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    protected override void InitializeController()</span><br><span class="line">    &#123;</span><br><span class="line">        base.InitializeController();</span><br><span class="line">        RegisterCommand(PureMVCNotification.START_UP, () =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            return new StartUpCommand();</span><br><span class="line">        &#125;);</span><br><span class="line">        RegisterCommand(PureMVCNotification.SHOW_PANEL,(() =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            return new ShowPanelCommand();</span><br><span class="line">        &#125;));</span><br><span class="line">        RegisterCommand(PureMVCNotification.HIDE_PANEL,(() =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            return new HidePanelCommand();</span><br><span class="line">        &#125;));</span><br><span class="line">        RegisterCommand(PureMVCNotification.QUIT_GAME,(() =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            return new QuitGameCommand();</span><br><span class="line">        &#125;));</span><br><span class="line">        RegisterCommand(PureMVCNotification.UPDATE_SETTING_INFO,(()=&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            return new UpdateSettingCommand();</span><br><span class="line">        &#125;));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// åˆå§‹åŒ–æ–¹æ³•ï¼Œç”¨äºæ³¨å†ŒProxyã€Mediator</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    public void StartUp()</span><br><span class="line">    &#123;</span><br><span class="line">        SendNotification(PureMVCNotification.START_UP);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆæ˜¯åˆå§‹åŒ–å‘½ä»¤ï¼Œæ¸¸æˆå¼€å§‹çš„æ—¶å€™ï¼Œåœ¨è¿™é‡Œå¯ä»¥åˆå§‹åŒ–ä¿¡æ¯ï¼ˆæ³¨å†ŒProxyä¹‹ç±»çš„ï¼‰ï¼Œæ˜¾ç¤ºä¸»èœå•é¢æ¿</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">using PureMVC.Interfaces;</span><br><span class="line">using PureMVC.Patterns.Command;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class StartUpCommand : SimpleCommand</span><br><span class="line">&#123;</span><br><span class="line">    public override void Execute(INotification notification)</span><br><span class="line">    &#123;</span><br><span class="line">        base.Execute(notification);</span><br><span class="line">        //æ³¨å†ŒProxy</span><br><span class="line">        if (!Facade.HasProxy(MusicDataProxy.NAME))</span><br><span class="line">            Facade.RegisterProxy(new MusicDataProxy());</span><br><span class="line">        //æ¸¸æˆå¼€å§‹ï¼Œæ˜¾ç¤ºä¸»ç•Œé¢</span><br><span class="line">        SendNotification(PureMVCNotification.SHOW_PANEL,&quot;MainMenuPanel&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤–éƒ¨è°ƒç”¨åˆå§‹åŒ–</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class MainMenuInit : MonoBehaviour</span><br><span class="line">&#123;</span><br><span class="line">    private void Awake()</span><br><span class="line">    &#123;</span><br><span class="line">        GameFacade.Instance.StartUp();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ˜¾ç¤ºé¢æ¿å‘½ä»¤ï¼Œä¸Šé¢åœ¨MediatoråŸºç±»ä¸­æ·»åŠ SetViewæ–¹æ³•çš„å¥½å¤„å°±åœ¨è¿™é‡Œäº†ï¼Œç”±äºæ¯ä¸ªé¢æ¿çš„æ˜¾éšé€»è¾‘å¤§å·®ä¸å·®ï¼Œç›´æ¥æå–å‡ºä¸€ä¸ªåˆå§‹åŒ–é¢æ¿çš„æ–¹æ³•PanelInitï¼Œç”¨äºæ³¨å†ŒMediatorå’Œå®ä¾‹åŒ–é¢æ¿ï¼Œåœ¨å…¶ä¸­è°ƒç”¨SetViewï¼Œè®¾ç½®è‡ªå·±çš„ViewComponentå’Œé¢æ¿ä¸Šçš„äº‹ä»¶ç›‘å¬</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">using PureMVC.Core;</span><br><span class="line">using PureMVC.Interfaces;</span><br><span class="line">using PureMVC.Patterns.Command;</span><br><span class="line">using PureMVC.Patterns.Mediator;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class ShowPanelCommand : SimpleCommand</span><br><span class="line">&#123;</span><br><span class="line">    public override void Execute(INotification notification)</span><br><span class="line">    &#123;</span><br><span class="line">        base.Execute(notification);</span><br><span class="line">        //æ˜¾ç¤ºçš„é¢æ¿åé€šè¿‡Bodyåˆ¤æ–­</span><br><span class="line">        string panelName = notification.Body.ToString();</span><br><span class="line">        switch (panelName)</span><br><span class="line">        &#123;</span><br><span class="line">            case &quot;MainMenuPanel&quot;:</span><br><span class="line">                PanelInit&lt;MainMenuPanelMediator,MainMenuPanel&gt;(MainMenuPanelMediator.NAME,&quot;MainMenuPanel&quot;);</span><br><span class="line">                break;</span><br><span class="line">            case &quot;GameDataPanel&quot;:</span><br><span class="line">                PanelInit&lt;GameDataPanelMediator,GameDataPanel&gt;(GameDataPanelMediator.NAME,&quot;GameDataPanel&quot;);</span><br><span class="line">                break;</span><br><span class="line">            case &quot;SettingPanel&quot;:</span><br><span class="line">                PanelInit&lt;SettingPanelMediator,SettingPanel&gt;(SettingPanelMediator.NAME,&quot;SettingPanel&quot;);</span><br><span class="line">                SendNotification(PureMVCNotification.UPDATE_SETTING_INFO,Facade.RetrieveProxy(MusicDataProxy.NAME).Data as MusicData);</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// æ³¨å†ŒMediatorå¹¶å®ä¾‹åŒ–é¢æ¿</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    ///  &lt;param name=&quot;mediatorName&quot;&gt;é¢æ¿ä¸­ä»‹è€…å&lt;/param&gt;</span><br><span class="line">    /// &lt;param name=&quot;panelName&quot;&gt;é¢æ¿å&lt;/param&gt;</span><br><span class="line">    /// &lt;typeparam name=&quot;T&quot;&gt;é¢æ¿ä¸­ä»‹è€…ç±»&lt;/typeparam&gt;</span><br><span class="line">    /// &lt;typeparam name=&quot;K&quot;&gt;é¢æ¿ç±»&lt;/typeparam&gt;</span><br><span class="line">    private void PanelInit&lt;T,K&gt;(string mediatorName,string panelName) where T : Mediator,new() where K : BasePanel</span><br><span class="line">    &#123;</span><br><span class="line">        //æ³¨å†Œé¢æ¿çš„ä¸­ä»‹è€…</span><br><span class="line">        if (!Facade.HasMediator(mediatorName))</span><br><span class="line">        &#123;</span><br><span class="line">            Facade.RegisterMediator(new T());</span><br><span class="line">        &#125;</span><br><span class="line">        //æœ‰äº†ä¸­ä»‹è€…å°±åˆ›å»ºé¢æ¿</span><br><span class="line">        T mediator = Facade.RetrieveMediator(mediatorName) as T;</span><br><span class="line">        //å¦‚æœä¸å­˜åœ¨é¢æ¿åˆ™å®ä¾‹åŒ–</span><br><span class="line">        if (mediator.ViewComponent == null)</span><br><span class="line">        &#123;</span><br><span class="line">            //å®ä¾‹åŒ–é¢æ¿</span><br><span class="line">            GameObject res = Resources.Load&lt;GameObject&gt;($&quot;UI/&#123;panelName&#125;&quot;);</span><br><span class="line">            GameObject obj = GameObject.Instantiate(res, GameObject.Find(&quot;Canvas&quot;).transform);</span><br><span class="line">            mediator.SetView(obj.GetComponent&lt;K&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éšè—é¢æ¿å‘½ä»¤</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">using PureMVC.Interfaces;</span><br><span class="line">using PureMVC.Patterns.Command;</span><br><span class="line">using PureMVC.Patterns.Mediator;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class HidePanelCommand : SimpleCommand</span><br><span class="line">&#123;</span><br><span class="line">    public override void Execute(INotification notification)</span><br><span class="line">    &#123;</span><br><span class="line">        base.Execute(notification);</span><br><span class="line">        //éšè—çš„æµç¨‹ å¾—åˆ°Mediator â†’ å¾—åˆ°å…¶ä¸­çš„ViewComponent â†’ åˆ é™¤/SetActivity</span><br><span class="line">        Mediator mediator = notification.Body as Mediator;</span><br><span class="line">        if (mediator != null &amp;&amp; mediator.ViewComponent != null)</span><br><span class="line">        &#123;</span><br><span class="line">            //åˆ é™¤ViewComponentå¯¹åº”çš„panelå¯¹åº”çš„æ¸¸æˆå¯¹è±¡</span><br><span class="line">            GameObject.Destroy((mediator.ViewComponent as MonoBehaviour).gameObject);</span><br><span class="line">            mediator.ViewComponent = null;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ›´æ–°è®¾ç½®æ•°æ®å‘½ä»¤ï¼Œæ ¹æ®notificationçš„bodyä¸­çš„å†…å®¹ï¼Œæ˜¯æ›´æ–°éŸ³ä¹æ•°æ®è¿˜æ˜¯é¢æ¿ä¸Šçš„æ•°æ®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">using PureMVC.Interfaces;</span><br><span class="line">using PureMVC.Patterns.Command;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class UpdateSettingCommand : SimpleCommand</span><br><span class="line">&#123;</span><br><span class="line">    public override void Execute(INotification notification)</span><br><span class="line">    &#123;</span><br><span class="line">        base.Execute(notification);</span><br><span class="line">        //æ ¹æ®è§„åˆ™ï¼Œåˆ†å‰²ä¿¡æ¯ï¼ŒåŒºåˆ†æ§ä»¶çš„å€¼</span><br><span class="line">        if (notification.Body is MusicData)</span><br><span class="line">        &#123;</span><br><span class="line">            SettingPanelMediator mediator = Facade.RetrieveMediator(SettingPanelMediator.NAME) as SettingPanelMediator;</span><br><span class="line">            (mediator.ViewComponent as SettingPanel).UpdateInfo(notification.Body as MusicData);</span><br><span class="line">        &#125;</span><br><span class="line">        if (notification.Body is SettingPanel)</span><br><span class="line">        &#123;</span><br><span class="line">            MusicDataProxy proxy = Facade.RetrieveProxy(MusicDataProxy.NAME) as MusicDataProxy;</span><br><span class="line">            proxy.UpdateDataInfo(notification.Body as SettingPanel);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€€å‡ºæ¸¸æˆå‘½ä»¤</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">using PureMVC.Interfaces;</span><br><span class="line">using PureMVC.Patterns.Command;</span><br><span class="line">using UnityEngine;</span><br><span class="line"></span><br><span class="line">public class QuitGameCommand : SimpleCommand</span><br><span class="line">&#123;</span><br><span class="line">    public override void Execute(INotification notification)</span><br><span class="line">    &#123;</span><br><span class="line">        base.Execute(notification);</span><br><span class="line">#if UNITY_EDITOR</span><br><span class="line">        UnityEditor.EditorApplication.isPlaying = false;</span><br><span class="line">#endif</span><br><span class="line">        Application.Quit();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä½¿ç”¨PureMVCé™ä½äº†å„ä¸ªæ¨¡å—ä¹‹é—´çš„è€¦åˆåº¦ï¼Œä½†æ˜¯å®ƒæœ¬èº«ä½¿ç”¨èµ·æ¥ä¹Ÿæ¯”è¾ƒç¹çï¼Œå°çš„é¡¹ç›®ç”¨èµ·æ¥å°±æœ‰ç‚¹æ€é¸¡ç”¨ç‰›åˆ€äº†ï¼Œå°é¡¹ç›®ä½¿ç”¨å•ä¾‹æ¨¡å¼çš„å„ä¸ªé¢æ¿ç®¡ç†ç±»ï¼ˆæ¯ä¸ªé¢æ¿éƒ½æœ‰çš„é€»è¾‘æ³›åŒ–åˆ°é¢æ¿ç§¯ç´¯ï¼Œæ¯”å¦‚æ˜¾éšã€å•ä¾‹æ¨¡å¼ç­‰ç­‰ï¼‰æ›´åŠ è½»ä¾¿å¥½ç”¨</p>

        </div>
        
            <div class="kratos-copyright text-center clearfix">
                <h5>æœ¬ä½œå“é‡‡ç”¨ <a rel="license nofollow" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">çŸ¥è¯†å…±äº«ç½²å-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®</a> è¿›è¡Œè®¸å¯</h5>
            </div>
        
        <footer class="kratos-entry-footer clearfix">
            
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                
                
                    <a class="share" href="javascript:;"><i class="fa fa-share-alt"></i> åˆ†äº«</a>
                    <div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>æ‰“å¼€å¾®ä¿¡â€œæ‰«ä¸€æ‰«â€ï¼Œæ‰“å¼€ç½‘é¡µåç‚¹å‡»å±å¹•å³ä¸Šè§’åˆ†äº«æŒ‰é’®</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(()=>{
            new QRCode("wechat-qr", {
                text: "https://moewolf.me/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9Apuremvc%E4%B8%8E%E4%B8%BB%E7%95%8C%E9%9D%A2/",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "https://moewolf.me/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9Apuremvc%E4%B8%8E%E4%B8%BB%E7%95%8C%E9%9D%A2/";
            const title         = "ã€ŒèŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡ï¼ˆä¸€ï¼‰ï¼šPureMVCä¸ä¸»ç•Œé¢ã€";
            const excerpt       = `ä½¿ç”¨PureMVCæ¡†æ¶å’Œè‡ªåˆ¶é¢æ¿åŸºç±»ï¼Œåˆ¶ä½œä¸»ç•Œé¢é€»è¾‘`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };
    </script>
</div>
                
                </div>
            
            <div class="footer-tag clearfix">
                <div class="pull-left">
                <i class="fa fa-tags"></i>
                    <a class="tag-none-link" href="/tags/%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/" rel="tag">å¼€å‘æ—¥å¿—</a>
                </div>
                <div class="pull-date">
                <span>æœ€åç¼–è¾‘ï¼š2022-09-12</span>
                </div>
            </div>
        </footer>
    </div>
    
        <nav class="navigation post-navigation clearfix" role="navigation">
            
            <div class="nav-previous clearfix">
                <a title=" åˆ©ç”¨åå°„åˆ¶ä½œPlayerPrefsæ•°æ®ç®¡ç†ç±»" href="/åŠŸèƒ½å®ç°/åˆ©ç”¨åå°„åˆ¶ä½œplayerprefsæ•°æ®ç®¡ç†ç±»/">&lt; ä¸Šä¸€ç¯‡</a>
            </div>
            
            
            <div class="nav-next clearfix">
                <a title=" èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡ï¼ˆäºŒï¼‰ï¼šå¯¹è¯åŠŸèƒ½çš„å®ç°" href="/èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡/èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡ï¼ˆäºŒï¼‰ï¼šå¯¹è¯åŠŸèƒ½çš„å®ç°/">ä¸‹ä¸€ç¯‡ &gt;</a>
            </div>
            
        </nav>
    
    
</article>

        

            </section>

        

                
            

<section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
    <!-- æ–‡ç« å’Œé¡µé¢æ ¹æ®splitteræ¥åˆ†å‰²ï¼Œæ²¡æœ‰çš„è¯å°±ä»å¤´å¼€å§‹è®¾ç½®ä¸ºsticky -->
    
    
                <aside id="krw-about" class="widget widget-kratos-about clearfix">
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="/images/holo_avatar.png" />
        </div>
    </div>
    <div class="textwidget">
        <p class="text-center">ç”Ÿå¦‚å¤èŠ±ä¹‹ç»šçƒ‚ï¼Œæ­»å¦‚ç§‹å¶ä¹‹é™ç¾</p>
    </div>
</aside>
            
                    <div class="sticky-area">
                
                    <aside id="krw-toc" class="widget widget-kratos-toc clearfix">
    <div class="photo-background"></div>
    <h4 class="widget-title no-after">
        <i class="fa fa-compass"></i>
        æ–‡ç« ç›®å½•
        <span class="toc-progress-bar"></span>
    </h4>
    <div class="textwidget">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87"><span class="toc-text">èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E8%BF%99%E4%B8%AA%E6%B8%B8%E6%88%8F"><span class="toc-text">å…³äºè¿™ä¸ªæ¸¸æˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%8C%E6%99%AF"><span class="toc-text">èƒŒæ™¯</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%BB%E7%95%8C%E9%9D%A2UI%E4%BB%A5%E5%8F%8AUI%E9%9D%A2%E6%9D%BF%E5%9F%BA%E7%B1%BB"><span class="toc-text">ä¸»ç•Œé¢UIä»¥åŠUIé¢æ¿åŸºç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF"><span class="toc-text">æ€è·¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UI%E9%9D%A2%E6%9D%BF%E5%9F%BA%E7%B1%BB"><span class="toc-text">UIé¢æ¿åŸºç±»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E6%9D%BF%E5%8F%8A%E8%84%9A%E6%9C%AC"><span class="toc-text">é¢æ¿åŠè„šæœ¬</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PureMVC%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">PureMVCçš„ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E5%90%8D%E7%B1%BB"><span class="toc-text">é€šçŸ¥åç±»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9F%B3%E4%B9%90%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%8F%8AProxy"><span class="toc-text">éŸ³ä¹æ•°æ®ç±»åŠProxy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%84%E4%B8%AA%E9%9D%A2%E6%9D%BF%E7%9A%84Mediator"><span class="toc-text">å„ä¸ªé¢æ¿çš„Mediator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Facade%E5%92%8CCommand"><span class="toc-text">Facadeå’ŒCommand</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">æ€»ç»“</span></a></li></ol>
    </div>
</aside>
                
                
  <aside id="krw-categories" class="widget widget-kratos-categories clearfix">
    <h4 class="widget-title"><i class="fa fa-folder"></i>åˆ†ç±»ç›®å½•</h4>
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C#</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/">åŠŸèƒ½å®ç°</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%B8%B8/">æ—¥å¸¸</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87/">èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡</a><span class="category-list-count">6</span></li></ul>
  </aside>


            
                
  <aside id="krw-tags" class="widget widget-kratos-tags clearfix">
    <h4 class="widget-title"><i class="fa fa-tags"></i>æ ‡ç­¾èšåˆ</h4>
      <div class="tag-clouds">
        <a href="/tags/C-%E9%AB%98%E9%98%B6/" style="font-size: 0.7em;">C#é«˜é˜¶</a> <a href="/tags/Unity/" style="font-size: 0.7em;">Unity</a> <a href="/tags/%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/" style="font-size: 0.8em;">å¼€å‘æ—¥å¿—</a> <a href="/tags/%E6%97%A5%E5%B8%B8/" style="font-size: 0.6em;">æ—¥å¸¸</a>
      </div>
  </aside>

            
                
  <aside id="krw-posts" class="widget widget-kratos-posts">
  <h4 class="widget-title"><i class="fa fa-file"></i>æœ€æ–°æ–‡ç« </h4>
  <div class="tab-content">
      <ul class="list-group">
        
        
          
          
            <a class="list-group-item" href="/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87%EF%BC%88%E5%85%AD%EF%BC%89%EF%BC%9A%E7%A7%8D%E7%94%B0%E5%8A%9F%E8%83%BD%E7%9A%84%E5%AE%9E%E7%8E%B0/"><i class="fa  fa-book"></i> èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡ï¼ˆå…­ï¼‰ï¼šç§ç”°åŠŸèƒ½çš„å®ç°</a>
            
          
        
          
          
            <a class="list-group-item" href="/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87%EF%BC%88%E4%BA%94%EF%BC%89%EF%BC%9A%E7%8E%A9%E5%AE%B6%E6%8E%A7%E5%88%B6%E5%92%8C2d%E6%B7%B7%E5%90%88%E6%A0%91/"><i class="fa  fa-book"></i> èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡ï¼ˆäº”ï¼‰ï¼šç©å®¶æ§åˆ¶å’Œ2Dæ··åˆæ ‘</a>
            
          
        
          
          
            <a class="list-group-item" href="/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87%EF%BC%88%E5%9B%9B%EF%BC%89%EF%BC%9A%E6%9C%A8%E7%AE%B1%E5%92%8C%E8%83%8C%E5%8C%85%E7%89%A9%E5%93%81%E7%9A%84%E4%BA%92%E6%8D%A2/"><i class="fa  fa-book"></i> èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡ï¼ˆå››ï¼‰ï¼šæœ¨ç®±å’ŒèƒŒåŒ…ç‰©å“çš„äº’æ¢</a>
            
          
        
          
          
            <a class="list-group-item" href="/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87%EF%BC%88%E4%B8%89%EF%BC%89%EF%BC%9Aexcel%E8%A1%A8%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%92%8C%E8%83%8C%E5%8C%85%E7%B3%BB%E7%BB%9F/"><i class="fa  fa-book"></i> èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡ï¼ˆä¸‰ï¼‰ï¼šExcelè¡¨é…ç½®æ•°æ®å’ŒèƒŒåŒ…ç³»ç»Ÿ</a>
            
          
        
          
          
            <a class="list-group-item" href="/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87/%E8%8C%89%E5%AD%90%E7%9A%84%E5%B9%BB%E6%83%B3%E4%B9%A1%E5%A5%87%E9%81%87%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E5%AF%B9%E8%AF%9D%E5%8A%9F%E8%83%BD%E7%9A%84%E5%AE%9E%E7%8E%B0/"><i class="fa  fa-book"></i> èŒ‰å­çš„å¹»æƒ³ä¹¡å¥‡é‡ï¼ˆäºŒï¼‰ï¼šå¯¹è¯åŠŸèƒ½çš„å®ç°</a>
            
          
        
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
      </ul>
  </div>
  </aside>

            
    </div>
</section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer"  >
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        
                        
                        <li><a target="_blank" rel="nofollow" href="https://t.me/LittleWolfHouse"><i class="fa fa-telegram"></i></a></li>
                        
                        
                        
                        
                        <li><a target="_blank" rel="nofollow" href="https://github.com/Dai-MoeWolf"><i class="fa fa-github"></i></a></li>
                        
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li>&copy; 2022 MoeWolfçš„åšå®¢ ç‰ˆæƒæ‰€æœ‰.</li>
                            <li>æœ¬ç«™å·²è¿è¡Œ<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li>
                            <li>Site built with&nbsp;<i class="fa fa-heart throb" style="color:#d43f57"></i>&nbsp;by MoeWolf.</li>
                        </div>
                        <div>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                            
                        </div>
                        <div>
                            
                            
                        </div>
                    </ul>
                </div>
            </div>
        </div>
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fa fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fa fa-adjust"></span>
                    </div>
                
                
            </div>
            <div class="box gotop-box">
                <span class="fa fa-chevron-up"></span>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

        <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js"></script>
<script>
    if (!window.kr) {
        window.kr = {};
    }
    window.kr.notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));
    window.kr.siteRoot = "/";
</script>


    <script async src="/js/candy.min.js"></script>




    <script defer src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script defer src="/js/kratosr.min.js"></script>
<script defer src="/js/pjax.min.js"></script>


    <script defer src="/js/kr-dark.min.js"></script>



<!-- Extra support for third-party plguins  -->


    </body>
</html>